# Unity-Preiview-Effect-Tool

### 环境

Unity 2018~2022

### 操作

- 点击菜单 Tools/Editor Preview, 在SceneView 视图呼出特定Overlay...
- 选择任一特效物体,点击 Play 按钮开始预览,Pause暂停,Stop停止,暂停时可以步进预览...

### 预览功能

- 实现方案是 Play 操作时遍历节点,往指定的脚本节点挂上指定的预览脚本...
- 已实现 EditMode 预览 ParticleSystem,Animation,Animator...
- 不支持预览动画切换,状态机迁移,ParticleSystem 事件...
- 不支持控制 Shader 里基于时间的动画效果...
- 支持特效播放过程中动态 disactive/active, disable/enable 的效果...
- 支持暂停和步进预览
- 提供了锁定播放物体的功能,特效工作人员可以进行简单的 EditMode 实时编辑预览...
- 预览脚本设置了最不可见且不会被序列化的标记,对大部分工程的场景文件和预制件不会产生影响...
- 操作窗口空间可以适当提供信息展示,示例工程里为展示资源使用情况...

### 预览功能扩展

- 扩展代码继承PreviewController,实现定制化功能的预览...

```
    [ExecuteInEditMode]
    [MarkPreview(typeof(CustomBehavior))]
    public class CustomController : PreviewController
```

### 特效浏览器

- 点击菜单 Tools/AssetExplorer，打开浏览窗口...
- 按个人喜好手动布局窗口内Overlay模块...
- 用MenuTree模块选择目录...
- 用Search模块搜索展示的特效...
- 用Config模块配置部分渲染参数，比如预览卡片大小，播放时间等...

